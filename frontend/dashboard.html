<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <title>Dashboard ‚Äì JSON4AI</title>
  <meta name="description" content="Manage your profile and subscriptions."/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/main.css"/>
  <link rel="stylesheet" href="css/aurora-glass.css"/>
  <link rel="stylesheet" href="css/responsive.css"/>
  
  <script src="js/notifications.js" defer></script>
  <script src="js/dashboard.js" defer></script>
  <script src="js/migration.js" defer></script>
  <script src="js/session-manager.js" defer></script>
  <script src="js/utils.js" defer></script>
  <script src="js/mobile-nav.js" defer></script>
</head>
<body>
<header class="navbar">
  <div class="container flex-between">
    <a href="index.html" class="logo">JSON4<span>AI</span></a>
    <nav class="nav-links">
      <a href="prompt-generator.html">Generate Prompts</a>
      <a href="pricing.html">Pricing</a>
      <button id="logout" class="btn-secondary">Logout</button>
    </nav>
    <button id="hamburger" class="hamburger" aria-label="Toggle navigation" aria-expanded="false" aria-controls="nav-links">
      <span></span><span></span><span></span>
    </button>
  </div>
</header>

<!-- Notification Container -->
<div id="notification-container" class="notification-container"></div>

<main>
  <div class="container">
    <div class="dashboard-header">
      <h1>Welcome to Your Dashboard</h1>
      <p id="dashboard-subtitle">Loading...</p>
      <!-- Loading spinner will be added here by JavaScript -->
      <div id="loading-spinner" style="display: none; text-align: center; padding: 1rem;">
        <div class="spinner" style="width: 40px; height: 40px; border: 4px solid #f3f3f3; border-top: 4px solid #8b5cf6; border-radius: 50%; animation: spin 1s linear infinite; margin: 0 auto 1rem;"></div>
        <p style="color: #6b7280;">Loading your dashboard...</p>
      </div>
    </div>
    
    <!-- Credit Status Display -->
    <div class="card credit-status-card" style="margin-bottom: 2rem;">
      <div class="credit-status-header">
        <h3>Credit Status</h3>
        <div class="credit-badge" id="credit-badge">Loading...</div>
      </div>
      <div class="credit-details">
        <p id="credit-text">Loading credit information...</p>
        <div class="credit-actions">
          <a href="prompt-generator.html" class="btn-primary">Generate Prompt</a>
          <a href="pricing.html" class="btn-secondary">Upgrade Plan</a>
        </div>
      </div>
    </div>
    
    <!-- Error message display -->
    <div id="error-message" class="error-message" style="display: none;">
      <div class="error-content">
        <h3>
          <svg class="w-6 h-6 inline mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"></path>
          </svg>
          Error Loading Profile
        </h3>
        <p id="error-text">Something went wrong while loading your profile.</p>
        <button onclick="location.reload()" class="btn-primary">Retry</button>
      </div>
    </div>

    <div class="dashboard-grid">
      <section class="card">
        <h2>Profile Information</h2>
        <form id="profile-form" class="form">
          <div class="form-group">
            <label for="firstName">First Name</label>
            <input id="firstName" type="text" placeholder="Loading..." required disabled/>
          </div>
          <div class="form-group">
            <label for="lastName">Last Name</label>
            <input id="lastName" type="text" placeholder="Enter your last name" required disabled/>
          </div>
          <div class="form-group">
            <label for="email">Email Address</label>
            <input id="email" type="email" placeholder="Loading..." disabled/>
            <small>Email cannot be changed</small>
          </div>
          <button type="submit" class="btn-primary" disabled>Update Profile</button>
        </form>
      </section>

      <section class="card">
        <h2>Plan & Usage</h2>
        <div class="subscription-info">
          <div class="current-plan">
            <h3>Current Plan</h3>
            <div class="plan-badge" id="plan-badge">Loading...</div>
            <p id="plan-description">Loading plan details...</p>
          </div>
          
          <div class="usage-stats">
            <h4>Daily Usage</h4>
            <div class="usage-bar">
              <div class="usage-progress" id="usage-progress"></div>
            </div>
            <p id="usage-text">Loading usage information...</p>
          </div>
          
          <div class="plan-features">
            <h4>Plan Features</h4>
            <ul id="plan-features-list">
              <li>Loading features...</li>
            </ul>
          </div>
          
          <a href="pricing.html" class="btn-primary">Upgrade Plan</a>
        </div>
      </section>

      <section class="card">
        <h2>Quick Actions</h2>
        <div class="quick-actions">
          <a href="prompt-generator.html" class="btn-primary btn-large">
            üöÄ Generate AI Prompts
          </a>
          <p>Use Llama-3.1-8B to create structured JSON prompts</p>
        </div>
      </section>
    </div>

    <section class="card">
      <h2>Recent Activity</h2>
      <div class="activity-list" id="activity-list">
        <div class="activity-item">
          <div class="activity-icon">üìù</div>
          <div class="activity-content">
            <h4>Loading...</h4>
            <p>Loading recent activity...</p>
            <span class="activity-time">Loading...</span>
          </div>
        </div>
      </div>
    </section>
  </div>
</main>

<!-- Cookie Consent Banner -->
<div id="cookie-consent" class="cookie-consent">
  <div class="cookie-content">
    <div class="cookie-text">
      <h4>üç™ We use cookies to enhance your experience</h4>
      <p>We use cookies and similar technologies to provide, protect, and improve our services. By clicking "Accept All", you consent to our use of cookies for analytics and personalized content. You can customize your preferences or learn more in our <a href="cookies.html" target="_blank">Cookie Policy</a>.</p>
    </div>
    <div class="cookie-actions">
      <button id="cookie-preferences" class="btn-secondary">Customize</button>
      <button id="cookie-accept-all" class="btn-primary">Accept All</button>
    </div>
  </div>
</div>

<!-- Cookie Preferences Modal -->
<div id="cookie-modal" class="cookie-modal">
  <div class="cookie-modal-content">
    <div class="cookie-modal-header">
      <h3>üç™ Cookie Preferences</h3>
      <button id="cookie-modal-close" class="cookie-modal-close">&times;</button>
    </div>
    <div class="cookie-modal-body">
      <div class="cookie-category">
        <div class="cookie-category-header">
          <label class="cookie-toggle">
            <input type="checkbox" id="essential-cookies" checked disabled>
            <span class="cookie-slider"></span>
          </label>
          <div class="cookie-category-info">
            <h4>Essential Cookies</h4>
            <p>Required for the website to function properly. Cannot be disabled.</p>
          </div>
        </div>
      </div>
      
      <div class="cookie-category">
        <div class="cookie-category-header">
          <label class="cookie-toggle">
            <input type="checkbox" id="analytics-cookies">
            <span class="cookie-slider"></span>
          </label>
          <div class="cookie-category-info">
            <h4>Analytics Cookies</h4>
            <p>Help us understand how visitors interact with our website to improve performance.</p>
          </div>
        </div>
      </div>
      
      <div class="cookie-category">
        <div class="cookie-category-header">
          <label class="cookie-toggle">
            <input type="checkbox" id="preference-cookies">
            <span class="cookie-slider"></span>
          </label>
          <div class="cookie-category-info">
            <h4>Preference Cookies</h4>
            <p>Remember your settings and preferences for a personalized experience.</p>
          </div>
        </div>
      </div>
      
      <div class="cookie-category">
        <div class="cookie-category-header">
          <label class="cookie-toggle">
            <input type="checkbox" id="marketing-cookies">
            <span class="cookie-slider"></span>
          </label>
          <div class="cookie-category-info">
            <h4>Marketing Cookies</h4>
            <p>Used to deliver relevant advertisements and track marketing campaign effectiveness.</p>
          </div>
        </div>
      </div>
    </div>
    <div class="cookie-modal-footer">
      <button id="cookie-save-preferences" class="btn-primary">Save Preferences</button>
      <button id="cookie-reject-all" class="btn-secondary">Reject All</button>
    </div>
  </div>
</div>

<script src="js/cookie-consent.js"></script>

<footer>
  <div class="container">
    <div class="grid-4">
      <div>
        <h4>JSON4AI</h4>
        <p>Advanced AI prompt generation with JSON structure validation</p>
      </div>
      <div>
        <h4>Product</h4>
        <a href="pricing.html">Pricing</a>
        <a href="prompt-generator.html">Prompt Generator</a>
        <a href="dashboard.html">Dashboard</a>
      </div>
      <div>
        <h4>Company</h4>
        <a href="terms.html">Terms of Service</a>
        <a href="privacy.html">Privacy Policy</a>
        <a href="gdpr.html">GDPR</a>
      </div>
      <div>
        <h4>Support</h4>
        <a href="cookies.html">Cookie Policy</a>
        <a href="mailto:support@json4ai.com">Contact Us</a>
      </div>
    </div>
    <div class="copyright">
      <p>&copy; 2025 JSON4AI. All rights reserved.</p>
    </div>
  </div>
</footer>
</body>
</html>